<table>
<tr>
	<td style='color: #8bc34a; font-size: 2em;'>Lessons
	  <a href="" ng-click="helpToast('Edit or Add lessons and lesson segments.<br>Update lesson order and view completed lesson',5000,'black')">
          <svg class="svg-class" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
          <ellipse ry="11" rx="11" cy="12" cx="12" stroke="#2196f3" fill="#fff"/>
          <text font-style="normal" transform="matrix(2.25929, 0, 0, 0.870395, -7.11379, -0.393831)" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="16" id="svg_2" y="20" x="6.5" stroke-width="0" stroke="#2196f3" fill="#2196f3">i</text>
          </svg>
          </a>
	</td>
	<td class="right">
		<a ng-click="addlesson()" class="waves-effect waves-light btn light-green">Add</a>
	</td>
</tr>
</table>

<div ng-repeat="item in cdata.readonly.lessons">
	<ul class="collection with-header">
		<li class="collection-item">
			<div class="row">
				<div class="input-field col s6">
					<input id="name" type="text" maxlength="30" ng-model="item.name">
					<label class='md-no-float' for="name" data-error="wrong" data-success="right">Name (30 chars)</label>
				</div>
				<div class="input-field col s6">
					<button class="btn-small btn-primary pull-right gray" ng-click="item.show=!item.show" ng-if="!item.show">Hide</button>
					<button class="btn-small btn-danger pull-right gray" ng-click="item.show=!item.show" ng-if="item.show">Show</button>
					<a href="" ng-click="helpToast('Click button to toggle between showing full lesson or only title to users.',5000,'black')">
        				<svg class="svg-class" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
          					<ellipse ry="11" rx="11" cy="12" cx="12" stroke="#2196f3" fill="#fff"/>
          					<text font-style="normal" transform="matrix(2.25929, 0, 0, 0.870395, -7.11379, -0.393831)" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="16" id="svg_2" y="20" x="6.5" stroke-width="0" stroke="#2196f3" fill="#2196f3">i</text>
        				</svg>
      					</a>
				</div>
			<div>
			<div class="row"><div class="col s12">
				 <a class="waves-effect waves-light btn light-green" ng-click="$scope.showdetails = !$scope.showdetails">Details</a>
				 <a class="waves-effect waves-light btn light-green" ng-click="$scope.showsegments = !$scope.showsegments">Segments</a>
				 <a class="waves-effect waves-light btn blue" ng-disabled="$index == 0" ng-click="uplesson($index)">Up</a>
				 <a class="waves-effect waves-light btn blue" ng-disabled="$last" ng-click="downlesson($index)">Down</a>
				 <a class="waves-effect waves-light btn pink" ng-click="removelesson($index)">Delete</a>
				 <a ng-click="setData($index)" class="waves-effect waves-light btn blue">View</a>
				</div>
            </div>
				 <div ng-show="$scope.showdetails">
				 	<br>
				 	<h5>Details
				 		<a href="" ng-click="helpToast('Smaller images load faster for your users.<br>Images should be full direct URL',5000,'black')">
        					<svg class="svg-class" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
          						<ellipse ry="11" rx="11" cy="12" cx="12" stroke="#2196f3" fill="#fff"/>
          						<text font-style="normal" transform="matrix(2.25929, 0, 0, 0.870395, -7.11379, -0.393831)" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="16" id="svg_2" y="20" x="6.5" stroke-width="0" stroke="#2196f3" fill="#2196f3">i</text>
        					</svg>
      					</a>
				 	</h5>
				 	<ul class="collection with-header">
						<li class="collection-item">
				 			<div class="row">
				 				<div class="input-field col s12">
									<input id="desc" type="text" maxlength="140" ng-model="item.desc">
				    				<label class='md-no-float' for="name" data-error="wrong" data-success="right">Description (140 chars)</label>
								</div>
				 				<div class="input-field col s12">
									<input id="unit" type="text" maxlength="10" ng-model="item.unit">
				    				<label class='md-no-float' for="unit" data-error="wrong" data-success="right">Unit (10 chars)</label>
								</div>
								<div class="input-field col s12">
									<input id="keywords" type="text" ng-model="item.keywords" ng-list>
							    	<label class='md-no-float' for="keywords">Keywords (separate using commas)</label>
								</div>
								<div class="input-field col s12">
									<input id="expectations" type="text" ng-model="item.expectations" ng-list>
							    	<label class='md-no-float' for="Expectations">Expectations (separate using commas)</label>
								</div>
				 			</div>
				 		</li>
				 	</ul>
				 </div>
				 <div ng-show="$scope.showsegments">
					<table>
					<tr>
						<td><h5>Segments
							<a href="" ng-click="helpToast('Segment images should be small (icon sized).<br>Links should be full direct URL to outside resource.',5000,'black')">
        						<svg class="svg-class" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
          							<ellipse ry="11" rx="11" cy="12" cx="12" stroke="#2196f3" fill="#fff"/>
          							<text font-style="normal" transform="matrix(2.25929, 0, 0, 0.870395, -7.11379, -0.393831)" xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="16" id="svg_2" y="20" x="6.5" stroke-width="0" stroke="#2196f3" fill="#2196f3">i</text>
        						</svg>
      						</a>
						</h5></td>
						<td><a ng-click="addsegment($index)" class="waves-effect waves-light btn right light-green">Add</a></td>
					</tr>
					</table>				 
				 	<div ng-repeat="segment in item.segments">
				 		<ul class="collection with-header">
							<li class="collection-item">
								<div class="input-field col s12">
									<input id="title" type="text" maxlength="30" ng-model="segment.title">
				    				<label class='md-no-float' for="title" data-error="wrong" data-success="right">Title (30 chars)</label>
								</div>
								<div class="input-field col s12">
									<input id="text" type="text" maxlength="140" ng-model="segment.text">
				    				<label class='md-no-float' for="name" data-error="wrong" data-success="right">Text (140 chars)</label>
								</div>
								<div class="input-field col s12">
									<input id="seglink" type="text" ng-model="segment.seglink">
							    	<label class='md-no-float' for="seglink">Link URL</label>
                                </div>
								<div>
									<a class="waves-effect waves-light btn pink" ng-click="removesegment($parent.$index,$index)">Delete</a>
								</div>
							</li>
						</ul>
					</div>
				 </div>
                </div>
		</li>
	</ul>
</div>
